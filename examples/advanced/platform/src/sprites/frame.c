//-----------------------------LICENSE NOTICE------------------------------------
//  This file is part of CPCtelera: An Amstrad CPC Game Engine 
//  Copyright (C) 2015 Dardalorth / Fremos / Carlio
//  Copyright (C) 2015 ronaldo / Fremos / Cheesetea / ByteRealms (@FranGallegoBR)
//
//  This program is free software: you can redistribute it and/or modify
//  it under the terms of the GNU General Public License as published by
//  the Free Software Foundation, either version 3 of the License, or
//  (at your option) any later version.
//
//  This program is distributed in the hope that it will be useful,
//  but WITHOUT ANY WARRANTY; without even the implied warranty of
//  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
//  GNU General Public License for more details.
//
//  You should have received a copy of the GNU General Public License
//  along with this program.  If not, see <http://www.gnu.org/licenses/>.
//------------------------------------------------------------------------------
#include <types.h>
#include <cpctelera.h>
#include "frame.h"

////////////////////////////////////////////////////////////////////////////////////////////////
// Draw a frame using the tiles for the frame
//
void drawFrame(u8* pscr, u8 x) {
   u8 i, *pvmem;

   // Draw Up-Left and Up-Right Corners
   pvmem = cpct_getScreenPtr(pscr, x, 0);
   cpct_drawTileAligned4x8(G_frameUpLeftCorner,  pvmem);
   cpct_drawTileAligned4x8(G_frameUpRightCorner, pvmem + 54);
   
   // Draw left and right frames
   for(i=8; i < 192; i += 8) {
      pvmem = cpct_getScreenPtr(pscr, x, i);
      cpct_drawTileAligned4x8(G_frameLeft,  pvmem);
      cpct_drawTileAligned4x8(G_frameRight, pvmem + 54);
   }

   // Draw upper frame 
   pvmem = cpct_getScreenPtr(pscr, x, 0);
   for(i=4; i < 28; i += 4) {
      pvmem += 4;
      cpct_drawTileAligned4x8(G_frameUp, pvmem);
      cpct_drawTileAligned4x8(G_frameUp, pvmem + 26);
   }
   // Center tile
   cpct_drawSprite(G_frameUpCenter, pvmem + 2, 6, 8);
   
   // Draw down frame 
   pvmem = cpct_getScreenPtr(pscr, x, 192);
   for(i=4; i < 28; i += 4) {
      pvmem += 4;
      cpct_drawTileAligned4x8(G_frameDown, pvmem);
      cpct_drawTileAligned4x8(G_frameDown, pvmem + 26);
   }
   // Center tile
   cpct_drawSprite(G_frameDownCenter, pvmem + 2, 6, 8);


   // Draw Down-Left and Down-Right Corners
   pvmem = cpct_getScreenPtr(pscr, x, 192);
   cpct_drawTileAligned4x8(G_frameDownLeftCorner,  pvmem);
   cpct_drawTileAligned4x8(G_frameDownRightCorner, pvmem + 54);
}


// Frame Tile Sprite by Dardalorth / Fremos / Carlio
const u8 G_frameUpLeftCorner[4*8] = {
   0x09,0x42,0x03,0x03,
   0x42,0x09,0x09,0x06,
   0x06,0x84,0xC0,0xC0,
   0x81,0x0C,0x84,0x0C,
   0x06,0xC0,0x48,0xC0,
   0x03,0x84,0xC0,0x0C,
   0x03,0x84,0x84,0x00,
   0x06,0x84,0x84,0x00
};

// Frame Tile Sprite by Dardalorth / Fremos / Carlio
const u8 G_frameUpRightCorner[4*8] = {
   0x03,0x03,0x81,0x06,
   0x09,0x06,0x06,0x81,
   0xC0,0xC0,0x48,0x09,
   0x0C,0x48,0x0C,0x42,
   0xC0,0x84,0xC0,0x09,
   0x0C,0xC0,0x48,0x03,
   0x00,0x48,0x48,0x03,
   0x00,0x48,0x48,0x09
};

// Frame Tile Sprite by Dardalorth / Fremos / Carlio
const u8 G_frameDownRightCorner[4*8] = {
   0x3C,0x48,0x48,0x09,
   0x3C,0x48,0x48,0x03,
   0x0C,0xC0,0x48,0x03,
   0xC0,0x84,0xC0,0x09,
   0x0C,0x48,0x0C,0x42,
   0xC0,0xC0,0x48,0x09,
   0x09,0x06,0x06,0x81,
   0x03,0x03,0x81,0x06
};

// Frame Tile Sprite by Dardalorth / Fremos / Carlio
const u8 G_frameDownLeftCorner[4*8] = {
   0x06,0x84,0x84,0x3C,
   0x03,0x84,0x84,0x3C,
   0x03,0x84,0xC0,0x0C,
   0x06,0xC0,0x48,0xC0,
   0x81,0x0C,0x84,0x0C,
   0x06,0x84,0xC0,0xC0,
   0x42,0x09,0x09,0x06,
   0x09,0x42,0x03,0x03
};

// Frame Tile Sprite by Dardalorth / Fremos / Carlio
const u8 G_frameLeft[4*8] = {
   0x06,0x48,0x0C,0x00,
   0x03,0x84,0x84,0x00,
   0x03,0x84,0x84,0x00,
   0x03,0x48,0x48,0x00,
   0x03,0x48,0x48,0x00,
   0x03,0x84,0x84,0x00,
   0x03,0x84,0x84,0x00,
   0x06,0x48,0x0C,0x00
};

// Frame Tile Sprite by Dardalorth / Fremos / Carlio
const u8 G_frameRight[4*8] = {
   0x00,0x0C,0x84,0x09,
   0x00,0x48,0x48,0x03,
   0x00,0x48,0x48,0x03,
   0x00,0x84,0x84,0x03,
   0x00,0x84,0x84,0x03,
   0x00,0x48,0x48,0x03,
   0x00,0x48,0x48,0x03,
   0x00,0x0C,0x84,0x09
};

// Frame Tile Sprite by Dardalorth / Fremos / Carlio
const u8 G_frameUp[4*8] = {
   0x03,0x03,0x03,0x03,
   0x09,0x03,0x03,0x06,
   0x48,0x84,0x48,0x84,
   0x84,0x48,0x84,0x48,
   0x48,0x84,0x48,0x84,
   0x0C,0x48,0x84,0x0C,
   0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00
};

// Frame Tile Sprite by Dardalorth / Fremos / Carlio
const u8 G_frameDown[4*8] = {
   0x3C,0x3C,0x3C,0x3C,
   0x3C,0x3C,0x3C,0x3C,
   0x0C,0x48,0x84,0x0C,
   0x48,0x84,0x48,0x84,
   0x84,0x48,0x84,0x48,
   0x48,0x84,0x48,0x84,
   0x09,0x03,0x03,0x06,
   0x03,0x03,0x03,0x03
};

// Frame Tile Sprite by Dardalorth / Fremos / Carlio
const u8 G_frameUpCenter[6*8] = {
   0x03,0x03,0x42,0x81,0x03,0x03,
   0x09,0x03,0x0C,0x0C,0x03,0x06,
   0x48,0xC0,0x48,0x84,0xC0,0x84,
   0x84,0x0C,0x84,0x48,0x0C,0x48,
   0x48,0xC0,0x84,0x48,0xC0,0x84,
   0x0C,0x0C,0x48,0x84,0x0C,0x0C,
   0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00
};

// Frame Tile Sprite by Dardalorth / Fremos / Carlio
const u8 G_frameDownCenter[6*8] = {
   0x3C,0x3C,0x3C,0x3C,0x3C,0x3C,
   0x3C,0x3C,0x3C,0x3C,0x3C,0x3C,
   0x0C,0x0C,0x48,0x84,0x0C,0x0C,
   0x48,0xC0,0x84,0x48,0xC0,0x84,
   0x84,0x0C,0x84,0x48,0x0C,0x48,
   0x48,0xC0,0x48,0x84,0xC0,0x84,
   0x09,0x03,0x0C,0x0C,0x03,0x06,
   0x03,0x03,0x42,0x81,0x03,0x03
};

// Frame Tile Sprite by Dardalorth / Fremos / Carlio
const u8 G_frameUpCenter2[2*8] = {
   0x42,0x81,
   0x0C,0x0C,
   0x48,0x84,
   0x84,0x48,
   0x84,0x48,
   0x48,0x84,
   0x03,0x03,
   0x03,0x03
};

// Frame Tile Sprite by Dardalorth / Fremos / Carlio
const u8 G_frameDownCenter2[2*8] = {
   0x03,0x03,
   0x03,0x03,
   0x48,0x84,
   0x84,0x48,
   0x84,0x48,
   0x48,0x84,
   0x0C,0x0C,
   0x42,0x81
};
